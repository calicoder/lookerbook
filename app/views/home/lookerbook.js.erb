(function(d) {
  if (!($ = window.jQuery)) {
    script = document.createElement('script');
    script.src = '//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js';
    script.onload = startHacking;
    document.body.appendChild(script);
  }
  else {
    startHacking();
  }

  function startHacking() {
    // Hide elements
    var selectors = ['#lk-nav-main','.alert-banner','#lk-control', '.lk-bar.filters', '.lk-vis-table-stuck-header-wrapper', '.select2-hidden-accessible'];
    var selector;

    for(var i = 0; i< selectors.length; i++) {
      selector = selectors[i];

      if($(selector).is(':visible')) {
        $(selector).hide();
      } else {
        $(selector).show();
      }
    }

    // Change formatting on dashboard title
    $('#lk-title').css('background', '#f6f8fa');
    $('#lk-title').css('color', 'black');


    // Change formatting on total tables
    var total_tables;
    total_tables = $('.title a').filter(
      function() {
        return $(this).text() == "Totals";}
    ).parents('.dashboard-element')

    $('.vis-header', total_tables).hide();
    $('.lk-vis-table-stuck-header-wrapper', total_tables).hide();
    $('.qr-table-header', total_tables).hide();

  }
}(document));
